{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"SM4Tops Workflow Welcome to the SM4Tops workflow documentation. This project provides a reproducible workflow to start an MVA (Multivariate Analysis) training for four-top Monte Carlo (MC) samples using Snakemake . Introduction The goal of this workflow is to facilitate MVA training for four-top processes in the ATLAS experiment to improve the separation between signal and background. It includes: Preprocessing MC samples with FastFrames Producing analysis-ready ntuples Submitting jobs safely to the HTCondor batch system Automating reproducible training steps for machine learning models This workflow is designed for researchers who want to: Reproduce the training steps easily Manage large MC datasets efficiently Track and document analysis pipelines Workflow Overview The workflow includes: 1. Automated environment setup Configures the Python environment and dependencies Prepares FastFrames for processing 2. Sample processing via FastFrames Reads the FastFrames configuration Submits jobs to HTCondor to process MC samples 3. Ntuple generation for analysis Collects processed samples Stores ntuples in EOS space for further analysis 4. Support for HTCondor batch system Submits multiple jobs efficiently Monitors job progress and completion","title":"Home"},{"location":"#sm4tops-workflow","text":"Welcome to the SM4Tops workflow documentation. This project provides a reproducible workflow to start an MVA (Multivariate Analysis) training for four-top Monte Carlo (MC) samples using Snakemake .","title":"SM4Tops Workflow"},{"location":"#introduction","text":"The goal of this workflow is to facilitate MVA training for four-top processes in the ATLAS experiment to improve the separation between signal and background. It includes: Preprocessing MC samples with FastFrames Producing analysis-ready ntuples Submitting jobs safely to the HTCondor batch system Automating reproducible training steps for machine learning models This workflow is designed for researchers who want to: Reproduce the training steps easily Manage large MC datasets efficiently Track and document analysis pipelines","title":"Introduction"},{"location":"#workflow-overview","text":"The workflow includes: 1. Automated environment setup Configures the Python environment and dependencies Prepares FastFrames for processing 2. Sample processing via FastFrames Reads the FastFrames configuration Submits jobs to HTCondor to process MC samples 3. Ntuple generation for analysis Collects processed samples Stores ntuples in EOS space for further analysis 4. Support for HTCondor batch system Submits multiple jobs efficiently Monitors job progress and completion","title":"Workflow Overview"},{"location":"faq/","text":"FAQ Q1: Snakemake reports missing output files? This usually happens because the output directory is on EOS or AFS , which may have some latency in reflecting newly created files. Solutions: Add the --latency-wait option when running Snakemake. Example: snakemake -j1 --latency-wait 600 This tells Snakemake to wait up to 600 seconds for missing files to appear. Make sure all Condor jobs have finished before running Snakemake again. You can check with: condor_q Q2: How to safely cancel running Condor jobs? Identify the jobs with: condor_q Cancel a specific job or job cluster with: condor_rm <job_id> Q3: Why do I need absolute paths in the configuration? FastFrames and Snakemake both rely on absolute paths for reproducibility. Using relative paths, especially for EOS/AFS storage, can break the workflow or cause file-not-found errors. Q4: What if my logs don\u2019t appear? Ensure the log directory exists and is writable. If you run Condor jobs, logs may only appear after the job finishes on the batch system. Check the wrapper script path and permissions.","title":"FAQ"},{"location":"faq/#faq","text":"","title":"FAQ"},{"location":"faq/#q1-snakemake-reports-missing-output-files","text":"This usually happens because the output directory is on EOS or AFS , which may have some latency in reflecting newly created files. Solutions: Add the --latency-wait option when running Snakemake. Example: snakemake -j1 --latency-wait 600 This tells Snakemake to wait up to 600 seconds for missing files to appear. Make sure all Condor jobs have finished before running Snakemake again. You can check with: condor_q","title":"Q1: Snakemake reports missing output files?"},{"location":"faq/#q2-how-to-safely-cancel-running-condor-jobs","text":"Identify the jobs with: condor_q Cancel a specific job or job cluster with: condor_rm <job_id>","title":"Q2: How to safely cancel running Condor jobs?"},{"location":"faq/#q3-why-do-i-need-absolute-paths-in-the-configuration","text":"FastFrames and Snakemake both rely on absolute paths for reproducibility. Using relative paths, especially for EOS/AFS storage, can break the workflow or cause file-not-found errors.","title":"Q3: Why do I need absolute paths in the configuration?"},{"location":"faq/#q4-what-if-my-logs-dont-appear","text":"Ensure the log directory exists and is writable. If you run Condor jobs, logs may only appear after the job finishes on the batch system. Check the wrapper script path and permissions.","title":"Q4: What if my logs don\u2019t appear?"},{"location":"installation/","text":"Installation Follow these steps to set up the SM4Tops workflow and its dependencies. 1. Clone the workflow repository The workflow is hosted on GitHub: git clone https://github.com/Cecilia01atlas/cmse890-finale-project.git 2. Clone the FastFrame repository This workflow relies on the FastFrames package to process MC samples. Access requires CERN credentials: git clone https://gitlab.cern.ch/atlasphys-top/TopPlusX/ANA-TOPQ-2023-43/sm4tops-fastframe.git Note: make sure to clone FastFrames into a directory that matches the path specified in the workflow configuration (workflow_config.yaml) 3. Configure the workflow Edit workflow_config.yaml to set the following absolute paths: fastframe_repo : absolute path to the FastFrames repository fastframe_config : absolute path to the FastFrames YAML configuration custom_class : absolute path to any custom FastFrames classes ntuples_eos_dir : absolute path in EOS where ntuples will be stored 4. Create and activate the conda environment conda env create -f environment.yaml conda activate mva-workflow 5. Test the installation You can run Snakemake in dry-run mode to check that everything is configured correctly: snakemake -n If paths or permissions are incorrect, Snakemake will report missing input files or directories.","title":"Installation"},{"location":"installation/#installation","text":"Follow these steps to set up the SM4Tops workflow and its dependencies.","title":"Installation"},{"location":"installation/#1-clone-the-workflow-repository","text":"The workflow is hosted on GitHub: git clone https://github.com/Cecilia01atlas/cmse890-finale-project.git","title":"1. Clone the workflow repository"},{"location":"installation/#2-clone-the-fastframe-repository","text":"This workflow relies on the FastFrames package to process MC samples. Access requires CERN credentials: git clone https://gitlab.cern.ch/atlasphys-top/TopPlusX/ANA-TOPQ-2023-43/sm4tops-fastframe.git Note: make sure to clone FastFrames into a directory that matches the path specified in the workflow configuration (workflow_config.yaml)","title":"2. Clone the FastFrame repository"},{"location":"installation/#3-configure-the-workflow","text":"Edit workflow_config.yaml to set the following absolute paths: fastframe_repo : absolute path to the FastFrames repository fastframe_config : absolute path to the FastFrames YAML configuration custom_class : absolute path to any custom FastFrames classes ntuples_eos_dir : absolute path in EOS where ntuples will be stored","title":"3. Configure the workflow"},{"location":"installation/#4-create-and-activate-the-conda-environment","text":"conda env create -f environment.yaml conda activate mva-workflow","title":"4. Create and activate the conda environment"},{"location":"installation/#5-test-the-installation","text":"You can run Snakemake in dry-run mode to check that everything is configured correctly: snakemake -n If paths or permissions are incorrect, Snakemake will report missing input files or directories.","title":"5. Test the installation"},{"location":"workflow/","text":"Workflow Overview The workflow is structured as a Snakemake DAG : 1. Produce Ntuples: Reads the FastFrames configuration ( Run3_config_DNN.yml ) Submits jobs to HTCondor to store ntuples Stores ntuples in EOS space 2. Other steps: Will be added later Snakemake Rules all : Entry point, checks ntuple outputs produce_ntuples : Submits FastFrames jobs Example Snakemake Command snakemake -j1 -p","title":"Workflow Overview"},{"location":"workflow/#workflow-overview","text":"The workflow is structured as a Snakemake DAG : 1. Produce Ntuples: Reads the FastFrames configuration ( Run3_config_DNN.yml ) Submits jobs to HTCondor to store ntuples Stores ntuples in EOS space 2. Other steps: Will be added later","title":"Workflow Overview"},{"location":"workflow/#snakemake-rules","text":"all : Entry point, checks ntuple outputs produce_ntuples : Submits FastFrames jobs","title":"Snakemake Rules"},{"location":"workflow/#example-snakemake-command","text":"snakemake -j1 -p","title":"Example Snakemake Command"}]}